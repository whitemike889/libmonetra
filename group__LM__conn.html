<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>LibMonetra-8.0.0: Connection Management</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">LibMonetra-8.0.0
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__LM__conn.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Connection Management<div class="ingroups"><a class="el" href="group__LM__api.html">Monetra API</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga0519933ee4779f352477360031fd0f83"><td class="memItemLeft" align="right" valign="top">typedef struct LM_conn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a></td></tr>
<tr class="separator:ga0519933ee4779f352477360031fd0f83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0ac0d6c431a436ee9ab1a0103cea1f05"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="group__LM__conn.html#ga85c131eef904bac2fdff072c8f4fe11e">LM_event_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LM__conn.html#ga0ac0d6c431a436ee9ab1a0103cea1f05">LM_event_type_t</a></td></tr>
<tr class="separator:ga0ac0d6c431a436ee9ab1a0103cea1f05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaefb2b17d946c6bfe9b007f48efbc9b35"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="group__LM__conn.html#ga7ea8f56b66aaf0ba1d4d551c67ae4be2">LM_mode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LM__conn.html#gaefb2b17d946c6bfe9b007f48efbc9b35">LM_mode_t</a></td></tr>
<tr class="separator:gaefb2b17d946c6bfe9b007f48efbc9b35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8dd08ef6136104feb80f0d6f4f572f11"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="group__LM__conn.html#ga80ba0c10b16ecfe614bdf2e7abacb275">LM_conn_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LM__conn.html#ga8dd08ef6136104feb80f0d6f4f572f11">LM_conn_status_t</a></td></tr>
<tr class="separator:ga8dd08ef6136104feb80f0d6f4f572f11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga03f6d4a9e6d2ca83fb9f8ac12b7c7cad"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LM__conn.html#ga03f6d4a9e6d2ca83fb9f8ac12b7c7cad">LM_event_callback_t</a> )(<a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *conn, M_event_t *event, <a class="el" href="group__LM__conn.html#ga0ac0d6c431a436ee9ab1a0103cea1f05">LM_event_type_t</a> type, <a class="el" href="group__LM__trans.html#ga44d8f3270ba53948b345f8d2f9932832">LM_trans_t</a> *trans)</td></tr>
<tr class="separator:ga03f6d4a9e6d2ca83fb9f8ac12b7c7cad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga537631929b7cf8e06b04e59ec24fa3eb"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LM__conn.html#ga537631929b7cf8e06b04e59ec24fa3eb">LM_conn_iocreate_callback_t</a> )(<a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *conn, M_io_t *io, void *arg)</td></tr>
<tr class="separator:ga537631929b7cf8e06b04e59ec24fa3eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga85c131eef904bac2fdff072c8f4fe11e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LM__conn.html#ga85c131eef904bac2fdff072c8f4fe11e">LM_event_type</a> { <br/>
&#160;&#160;<a class="el" href="group__LM__conn.html#gga85c131eef904bac2fdff072c8f4fe11ea206d80d7eada8750c9f3dbce805175e1">LM_EVENT_CONN_CONNECTED</a> = 0x01, 
<br/>
&#160;&#160;<a class="el" href="group__LM__conn.html#gga85c131eef904bac2fdff072c8f4fe11eaec304b04600b0e7a793d857ef5cd7940">LM_EVENT_CONN_DISCONNECT</a> = 0x02, 
<br/>
&#160;&#160;<a class="el" href="group__LM__conn.html#gga85c131eef904bac2fdff072c8f4fe11ea9bdbf15673a7c41a4f42919850b1020f">LM_EVENT_CONN_ERROR</a> = 0x03, 
<br/>
&#160;&#160;<a class="el" href="group__LM__conn.html#gga85c131eef904bac2fdff072c8f4fe11ea3dd7b9eea2905177a81d2a10d72d8977">LM_EVENT_TRANS_DONE</a> = 0x10, 
<br/>
&#160;&#160;<a class="el" href="group__LM__conn.html#gga85c131eef904bac2fdff072c8f4fe11ea1e30fee273d3d58ef3f935ea049df946">LM_EVENT_TRANS_ERROR</a> = 0x11, 
<br/>
&#160;&#160;<a class="el" href="group__LM__conn.html#gga85c131eef904bac2fdff072c8f4fe11ea65baff0ca0061fe4a2d0fb8f597a8b00">LM_EVENT_TRANS_NOCONNECT</a> = 0x12
<br/>
 }</td></tr>
<tr class="separator:ga85c131eef904bac2fdff072c8f4fe11e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7ea8f56b66aaf0ba1d4d551c67ae4be2"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LM__conn.html#ga7ea8f56b66aaf0ba1d4d551c67ae4be2">LM_mode</a> { <br/>
&#160;&#160;<a class="el" href="group__LM__conn.html#gga7ea8f56b66aaf0ba1d4d551c67ae4be2af8d676ad7d778e8e22a4652f7f998f85">LM_MODE_TLS</a> = 0, 
<br/>
&#160;&#160;<a class="el" href="group__LM__conn.html#gga7ea8f56b66aaf0ba1d4d551c67ae4be2a12ef7b620dfaa49b71b398f7c56fd8b0">LM_MODE_IP</a> = 1
<br/>
 }</td></tr>
<tr class="separator:ga7ea8f56b66aaf0ba1d4d551c67ae4be2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga80ba0c10b16ecfe614bdf2e7abacb275"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LM__conn.html#ga80ba0c10b16ecfe614bdf2e7abacb275">LM_conn_status</a> { <br/>
&#160;&#160;<a class="el" href="group__LM__conn.html#gga80ba0c10b16ecfe614bdf2e7abacb275a25bc48db42adf94bb1f8e5ca456b16f7">LM_CONN_STATUS_CONNECTING</a> = 1, 
<br/>
&#160;&#160;<a class="el" href="group__LM__conn.html#gga80ba0c10b16ecfe614bdf2e7abacb275a134df2e5eeaa8506648868bc95ecbf8a">LM_CONN_STATUS_CONNECTED</a> = 2, 
<br/>
&#160;&#160;<a class="el" href="group__LM__conn.html#gga80ba0c10b16ecfe614bdf2e7abacb275ab93b023f5a3213c09dd4b9fedd31c6b7">LM_CONN_STATUS_DISCONNECTING</a> = 3, 
<br/>
&#160;&#160;<a class="el" href="group__LM__conn.html#gga80ba0c10b16ecfe614bdf2e7abacb275a6472e2072692a1f6e274c447aee81cb9">LM_CONN_STATUS_IDLE_TIMEOUT</a> = 4, 
<br/>
&#160;&#160;<a class="el" href="group__LM__conn.html#gga80ba0c10b16ecfe614bdf2e7abacb275a9ed8ecca2177d050b6f243b66b39c50a">LM_CONN_STATUS_DISCONNECTED</a> = 5
<br/>
 }</td></tr>
<tr class="separator:ga80ba0c10b16ecfe614bdf2e7abacb275"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga37da5e8f7bcb9daf94633f05aff2df67"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LM__conn.html#ga37da5e8f7bcb9daf94633f05aff2df67">LM_conn_init</a> (M_event_t *event, <a class="el" href="group__LM__conn.html#ga03f6d4a9e6d2ca83fb9f8ac12b7c7cad">LM_event_callback_t</a> event_callback, const char *host, M_uint16 port)</td></tr>
<tr class="separator:ga37da5e8f7bcb9daf94633f05aff2df67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8bb84233d52f3489fda731c7c907e7b5"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LM__conn.html#ga8bb84233d52f3489fda731c7c907e7b5">LM_conn_set_userdata</a> (<a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *conn, void *user_data)</td></tr>
<tr class="separator:ga8bb84233d52f3489fda731c7c907e7b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae540faaa3560df5f496aa47d3b0fd9fe"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LM__conn.html#gae540faaa3560df5f496aa47d3b0fd9fe">LM_conn_get_userdata</a> (<a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *conn)</td></tr>
<tr class="separator:gae540faaa3560df5f496aa47d3b0fd9fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5d0f52162e797ca3ba015a84fea139a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LM__conn.html#ga5d0f52162e797ca3ba015a84fea139a3">LM_conn_disable_ping</a> (<a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *conn)</td></tr>
<tr class="separator:ga5d0f52162e797ca3ba015a84fea139a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7a32b91b5e98c7a03ae9dcf3e3c5da17"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LM__conn.html#ga7a32b91b5e98c7a03ae9dcf3e3c5da17">LM_conn_destroy</a> (<a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *conn)</td></tr>
<tr class="separator:ga7a32b91b5e98c7a03ae9dcf3e3c5da17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf7747fa54f89322a7d8cf9c16d47f208"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LM__conn.html#gaf7747fa54f89322a7d8cf9c16d47f208">LM_conn_change_server</a> (<a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *conn, const char *host, M_uint16 port)</td></tr>
<tr class="separator:gaf7747fa54f89322a7d8cf9c16d47f208"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5d3d2fcca92cf36a27173e84dd253318"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LM__conn.html#ga5d3d2fcca92cf36a27173e84dd253318">LM_conn_change_mode</a> (<a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *conn, <a class="el" href="group__LM__conn.html#gaefb2b17d946c6bfe9b007f48efbc9b35">LM_mode_t</a> mode)</td></tr>
<tr class="separator:ga5d3d2fcca92cf36a27173e84dd253318"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga007f265a96eda9c98536239a012a0100"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LM__conn.html#ga007f265a96eda9c98536239a012a0100">LM_conn_set_conn_timeout</a> (<a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *conn, size_t to_secs)</td></tr>
<tr class="separator:ga007f265a96eda9c98536239a012a0100"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e6106ef67a28dafb3329760d960ee57"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LM__conn.html#ga6e6106ef67a28dafb3329760d960ee57">LM_conn_set_tls_clientctx</a> (<a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *conn, const M_tls_clientctx_t *clientctx)</td></tr>
<tr class="separator:ga6e6106ef67a28dafb3329760d960ee57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga31922d265c732e23b1b2e325a950c8f6"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LM__conn.html#ga31922d265c732e23b1b2e325a950c8f6">LM_conn_set_tls_cert</a> (<a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *conn, const char *key, size_t key_len, const char *crt, size_t crt_len)</td></tr>
<tr class="separator:ga31922d265c732e23b1b2e325a950c8f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf071eb2b78fb615e6c4a4a59893aa960"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LM__conn.html#gaf071eb2b78fb615e6c4a4a59893aa960">LM_conn_set_tls_cert_files</a> (<a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *conn, const char *keypath, const char *crtpath)</td></tr>
<tr class="separator:gaf071eb2b78fb615e6c4a4a59893aa960"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga25c1f280d81d982e3aaed87a34c12ae0"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LM__conn.html#ga25c1f280d81d982e3aaed87a34c12ae0">LM_conn_set_iocreate_callback</a> (<a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *conn, <a class="el" href="group__LM__conn.html#ga537631929b7cf8e06b04e59ec24fa3eb">LM_conn_iocreate_callback_t</a> cb, void *cb_arg)</td></tr>
<tr class="separator:ga25c1f280d81d982e3aaed87a34c12ae0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad6263b75fc1bf37dad469fc762a0fed0"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LM__conn.html#gad6263b75fc1bf37dad469fc762a0fed0">LM_conn_set_idle_timeout</a> (<a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *conn, size_t to_secs)</td></tr>
<tr class="separator:gad6263b75fc1bf37dad469fc762a0fed0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6a7e053c5816d9fe8d42358cc9b374e5"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LM__conn.html#ga6a7e053c5816d9fe8d42358cc9b374e5">LM_conn_error</a> (<a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *conn)</td></tr>
<tr class="separator:ga6a7e053c5816d9fe8d42358cc9b374e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga614a4cdfc9807e156af4a62c1bd23227"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LM__conn.html#ga614a4cdfc9807e156af4a62c1bd23227">LM_conn_connect</a> (<a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *conn)</td></tr>
<tr class="separator:ga614a4cdfc9807e156af4a62c1bd23227"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga09939deb03540c6ce135d9ffeddc4a8c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__LM__conn.html#ga8dd08ef6136104feb80f0d6f4f572f11">LM_conn_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LM__conn.html#ga09939deb03540c6ce135d9ffeddc4a8c">LM_conn_status</a> (<a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *conn)</td></tr>
<tr class="separator:ga09939deb03540c6ce135d9ffeddc4a8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa73520b072656c97e59ca664aba37cbd"><td class="memItemLeft" align="right" valign="top">M_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__LM__conn.html#gaa73520b072656c97e59ca664aba37cbd">LM_conn_disconnect</a> (<a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *conn)</td></tr>
<tr class="separator:gaa73520b072656c97e59ca664aba37cbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Data types and functions related to connection management. </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga0519933ee4779f352477360031fd0f83"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct LM_conn <a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="monetra__api_8h_source.html#l00135">135</a> of file <a class="el" href="monetra__api_8h_source.html">monetra_api.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga0ac0d6c431a436ee9ab1a0103cea1f05"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="group__LM__conn.html#ga85c131eef904bac2fdff072c8f4fe11e">LM_event_type</a> <a class="el" href="group__LM__conn.html#ga0ac0d6c431a436ee9ab1a0103cea1f05">LM_event_type_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="monetra__api_8h_source.html#l00162">162</a> of file <a class="el" href="monetra__api_8h_source.html">monetra_api.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaefb2b17d946c6bfe9b007f48efbc9b35"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="group__LM__conn.html#ga7ea8f56b66aaf0ba1d4d551c67ae4be2">LM_mode</a> <a class="el" href="group__LM__conn.html#gaefb2b17d946c6bfe9b007f48efbc9b35">LM_mode_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="monetra__api_8h_source.html#l00171">171</a> of file <a class="el" href="monetra__api_8h_source.html">monetra_api.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga8dd08ef6136104feb80f0d6f4f572f11"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="group__LM__conn.html#ga80ba0c10b16ecfe614bdf2e7abacb275">LM_conn_status</a> <a class="el" href="group__LM__conn.html#ga8dd08ef6136104feb80f0d6f4f572f11">LM_conn_status_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="monetra__api_8h_source.html#l00182">182</a> of file <a class="el" href="monetra__api_8h_source.html">monetra_api.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga03f6d4a9e6d2ca83fb9f8ac12b7c7cad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* LM_event_callback_t)(<a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *conn, M_event_t *event, <a class="el" href="group__LM__conn.html#ga0ac0d6c431a436ee9ab1a0103cea1f05">LM_event_type_t</a> type, <a class="el" href="group__LM__trans.html#ga44d8f3270ba53948b345f8d2f9932832">LM_trans_t</a> *trans)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Callback that is called for each event, both connection-related and transaction related.</p>
<p>On connection error, each pending transaction will trigger an ERROR event, <em>followed</em> by the connection error or disconnect event itself.</p>
<p>It is safe to call <a class="el" href="group__LM__conn.html#ga7a32b91b5e98c7a03ae9dcf3e3c5da17">LM_conn_destroy()</a> or <a class="el" href="group__LM__trans.html#ga306a660fea79f4974866e57988599950">LM_trans_delete()</a> within the callback, however if there are events still enqueued for the connection, they will not be delivered so it is recommended to only <a class="el" href="group__LM__conn.html#ga7a32b91b5e98c7a03ae9dcf3e3c5da17">LM_conn_destroy()</a> on LM_EVENT_CONN_DISCONNECT or LM_EVENT_CONN_ERROR</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>Connection handle associated with the event </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">event</td><td>mstdlib event handle that generated the event </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>Type of event generated </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">trans</td><td>Transaction pointer affected if type is LM_EVENT_TRANS_DONE, LM_EVENT_TRANS_ERROR, or LM_EVENT_TRANS_NOCONECT. NULL if type is LM_EVENT_CONN_*. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="monetra__api_8h_source.html#l00260">260</a> of file <a class="el" href="monetra__api_8h_source.html">monetra_api.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga537631929b7cf8e06b04e59ec24fa3eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* LM_conn_iocreate_callback_t)(<a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *conn, M_io_t *io, void *arg)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Callback registered via <a class="el" href="group__LM__conn.html#ga25c1f280d81d982e3aaed87a34c12ae0">LM_conn_set_iocreate_callback()</a> that is called when a new mstdlib io object is created so the user may manipulate the object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>Pointer to the LM_conn_t object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">io</td><td>Pointer to the M_io_t internal mstdlib object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>User-defined argument registered with callback </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="monetra__api_8h_source.html#l00417">417</a> of file <a class="el" href="monetra__api_8h_source.html">monetra_api.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga85c131eef904bac2fdff072c8f4fe11e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__LM__conn.html#ga85c131eef904bac2fdff072c8f4fe11e">LM_event_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Events triggered. Contains both connection-specific events and transaction-specific events. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="gga85c131eef904bac2fdff072c8f4fe11ea206d80d7eada8750c9f3dbce805175e1"></a>LM_EVENT_CONN_CONNECTED</em>&#160;</td><td class="fielddoc">
<p>Connection established successfully </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga85c131eef904bac2fdff072c8f4fe11eaec304b04600b0e7a793d857ef5cd7940"></a>LM_EVENT_CONN_DISCONNECT</em>&#160;</td><td class="fielddoc">
<p>Graceful remote disconnect. No more events will arrive after this unless the user requests connection re-establishment </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga85c131eef904bac2fdff072c8f4fe11ea9bdbf15673a7c41a4f42919850b1020f"></a>LM_EVENT_CONN_ERROR</em>&#160;</td><td class="fielddoc">
<p>Communications error. No more events will arrive after this unless the user requests connection re-establishment </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga85c131eef904bac2fdff072c8f4fe11ea3dd7b9eea2905177a81d2a10d72d8977"></a>LM_EVENT_TRANS_DONE</em>&#160;</td><td class="fielddoc">
<p>Transaction Complete </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga85c131eef904bac2fdff072c8f4fe11ea1e30fee273d3d58ef3f935ea049df946"></a>LM_EVENT_TRANS_ERROR</em>&#160;</td><td class="fielddoc">
<p>Transaction Error (e.g. comms failed). * Guaranteed to receive a LM_EVENT_CONN_ERROR * after all transactions are notified </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga85c131eef904bac2fdff072c8f4fe11ea65baff0ca0061fe4a2d0fb8f597a8b00"></a>LM_EVENT_TRANS_NOCONNECT</em>&#160;</td><td class="fielddoc">
<p>Notification that the transaction is still ready to be sent, but there was an attempt to connect that failed. This transaction is still eligible to be sent if/when a successful connection is established. Integrators may wish to use this event to destroy the transaction object if they consider this a critical failure. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="monetra__api_8h_source.html#l00140">140</a> of file <a class="el" href="monetra__api_8h_source.html">monetra_api.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                   {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="comment">/* Communications-related events */</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <a class="code" href="group__LM__conn.html#gga85c131eef904bac2fdff072c8f4fe11ea206d80d7eada8750c9f3dbce805175e1">LM_EVENT_CONN_CONNECTED</a>  = 0x01,  <span class="comment">/*!&lt; Connection established successfully           */</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <a class="code" href="group__LM__conn.html#gga85c131eef904bac2fdff072c8f4fe11eaec304b04600b0e7a793d857ef5cd7940">LM_EVENT_CONN_DISCONNECT</a> = 0x02,  <span class="comment">/*!&lt; Graceful remote disconnect. No more events will</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">                                       *   arrive after this unless the user requests</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">                                       *   connection re-establishment                   */</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <a class="code" href="group__LM__conn.html#gga85c131eef904bac2fdff072c8f4fe11ea9bdbf15673a7c41a4f42919850b1020f">LM_EVENT_CONN_ERROR</a>      = 0x03,  <span class="comment">/*!&lt; Communications error.  No more events will    </span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">                                       *   arrive after this unless the user requests</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">                                       *   connection re-establishment                   */</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="comment">/* Transaction-related events */</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="group__LM__conn.html#gga85c131eef904bac2fdff072c8f4fe11ea3dd7b9eea2905177a81d2a10d72d8977">LM_EVENT_TRANS_DONE</a>      = 0x10,  <span class="comment">/*!&lt; Transaction Complete                          */</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <a class="code" href="group__LM__conn.html#gga85c131eef904bac2fdff072c8f4fe11ea1e30fee273d3d58ef3f935ea049df946">LM_EVENT_TRANS_ERROR</a>     = 0x11,  <span class="comment">/*!&lt; Transaction Error (e.g. comms failed).        *</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">                                       *    Guaranteed to receive a LM_EVENT_CONN_ERROR  *</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">                                       *    after all transactions are notified          */</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <a class="code" href="group__LM__conn.html#gga85c131eef904bac2fdff072c8f4fe11ea65baff0ca0061fe4a2d0fb8f597a8b00">LM_EVENT_TRANS_NOCONNECT</a> = 0x12   <span class="comment">/*!&lt; Notification that the transaction is still</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">                                       *   ready to be sent, but there was an attempt to</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">                                       *   connect that failed.  This transaction is still</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">                                       *   eligible to be sent if/when a successful connection</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">                                       *   is established.  Integrators may wish to use this</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">                                       *   event to destroy the transaction object if they</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">                                       *   consider this a critical failure.             */</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;};</div>
<div class="ttc" id="group__LM__conn_html_gga85c131eef904bac2fdff072c8f4fe11ea1e30fee273d3d58ef3f935ea049df946"><div class="ttname"><a href="group__LM__conn.html#gga85c131eef904bac2fdff072c8f4fe11ea1e30fee273d3d58ef3f935ea049df946">LM_EVENT_TRANS_ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="monetra__api_8h_source.html#l00151">monetra_api.h:151</a></div></div>
<div class="ttc" id="group__LM__conn_html_gga85c131eef904bac2fdff072c8f4fe11eaec304b04600b0e7a793d857ef5cd7940"><div class="ttname"><a href="group__LM__conn.html#gga85c131eef904bac2fdff072c8f4fe11eaec304b04600b0e7a793d857ef5cd7940">LM_EVENT_CONN_DISCONNECT</a></div><div class="ttdef"><b>Definition:</b> <a href="monetra__api_8h_source.html#l00143">monetra_api.h:143</a></div></div>
<div class="ttc" id="group__LM__conn_html_gga85c131eef904bac2fdff072c8f4fe11ea3dd7b9eea2905177a81d2a10d72d8977"><div class="ttname"><a href="group__LM__conn.html#gga85c131eef904bac2fdff072c8f4fe11ea3dd7b9eea2905177a81d2a10d72d8977">LM_EVENT_TRANS_DONE</a></div><div class="ttdef"><b>Definition:</b> <a href="monetra__api_8h_source.html#l00150">monetra_api.h:150</a></div></div>
<div class="ttc" id="group__LM__conn_html_gga85c131eef904bac2fdff072c8f4fe11ea65baff0ca0061fe4a2d0fb8f597a8b00"><div class="ttname"><a href="group__LM__conn.html#gga85c131eef904bac2fdff072c8f4fe11ea65baff0ca0061fe4a2d0fb8f597a8b00">LM_EVENT_TRANS_NOCONNECT</a></div><div class="ttdef"><b>Definition:</b> <a href="monetra__api_8h_source.html#l00154">monetra_api.h:154</a></div></div>
<div class="ttc" id="group__LM__conn_html_gga85c131eef904bac2fdff072c8f4fe11ea9bdbf15673a7c41a4f42919850b1020f"><div class="ttname"><a href="group__LM__conn.html#gga85c131eef904bac2fdff072c8f4fe11ea9bdbf15673a7c41a4f42919850b1020f">LM_EVENT_CONN_ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="monetra__api_8h_source.html#l00146">monetra_api.h:146</a></div></div>
<div class="ttc" id="group__LM__conn_html_gga85c131eef904bac2fdff072c8f4fe11ea206d80d7eada8750c9f3dbce805175e1"><div class="ttname"><a href="group__LM__conn.html#gga85c131eef904bac2fdff072c8f4fe11ea206d80d7eada8750c9f3dbce805175e1">LM_EVENT_CONN_CONNECTED</a></div><div class="ttdef"><b>Definition:</b> <a href="monetra__api_8h_source.html#l00142">monetra_api.h:142</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga7ea8f56b66aaf0ba1d4d551c67ae4be2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__LM__conn.html#ga7ea8f56b66aaf0ba1d4d551c67ae4be2">LM_mode</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Method used to establish a connection and communicate with the remote server </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="gga7ea8f56b66aaf0ba1d4d551c67ae4be2af8d676ad7d778e8e22a4652f7f998f85"></a>LM_MODE_TLS</em>&#160;</td><td class="fielddoc">
<p>Default. SSL/TLS mode </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga7ea8f56b66aaf0ba1d4d551c67ae4be2a12ef7b620dfaa49b71b398f7c56fd8b0"></a>LM_MODE_IP</em>&#160;</td><td class="fielddoc">
<p>Unencrypted IP mode </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="monetra__api_8h_source.html#l00166">166</a> of file <a class="el" href="monetra__api_8h_source.html">monetra_api.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;             {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <a class="code" href="group__LM__conn.html#gga7ea8f56b66aaf0ba1d4d551c67ae4be2af8d676ad7d778e8e22a4652f7f998f85">LM_MODE_TLS</a> = 0, <span class="comment">/*!&lt; Default. SSL/TLS mode */</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <a class="code" href="group__LM__conn.html#gga7ea8f56b66aaf0ba1d4d551c67ae4be2a12ef7b620dfaa49b71b398f7c56fd8b0">LM_MODE_IP</a>  = 1, <span class="comment">/*!&lt; Unencrypted IP mode */</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="comment">/* Future? XML? */</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;};</div>
<div class="ttc" id="group__LM__conn_html_gga7ea8f56b66aaf0ba1d4d551c67ae4be2a12ef7b620dfaa49b71b398f7c56fd8b0"><div class="ttname"><a href="group__LM__conn.html#gga7ea8f56b66aaf0ba1d4d551c67ae4be2a12ef7b620dfaa49b71b398f7c56fd8b0">LM_MODE_IP</a></div><div class="ttdef"><b>Definition:</b> <a href="monetra__api_8h_source.html#l00168">monetra_api.h:168</a></div></div>
<div class="ttc" id="group__LM__conn_html_gga7ea8f56b66aaf0ba1d4d551c67ae4be2af8d676ad7d778e8e22a4652f7f998f85"><div class="ttname"><a href="group__LM__conn.html#gga7ea8f56b66aaf0ba1d4d551c67ae4be2af8d676ad7d778e8e22a4652f7f998f85">LM_MODE_TLS</a></div><div class="ttdef"><b>Definition:</b> <a href="monetra__api_8h_source.html#l00167">monetra_api.h:167</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga80ba0c10b16ecfe614bdf2e7abacb275"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__LM__conn.html#ga80ba0c10b16ecfe614bdf2e7abacb275">LM_conn_status</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>States indicating the current connection status </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="gga80ba0c10b16ecfe614bdf2e7abacb275a25bc48db42adf94bb1f8e5ca456b16f7"></a>LM_CONN_STATUS_CONNECTING</em>&#160;</td><td class="fielddoc">
<p>In the process of connecting </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga80ba0c10b16ecfe614bdf2e7abacb275a134df2e5eeaa8506648868bc95ecbf8a"></a>LM_CONN_STATUS_CONNECTED</em>&#160;</td><td class="fielddoc">
<p>Actively connected </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga80ba0c10b16ecfe614bdf2e7abacb275ab93b023f5a3213c09dd4b9fedd31c6b7"></a>LM_CONN_STATUS_DISCONNECTING</em>&#160;</td><td class="fielddoc">
<p>In the process of disconnecting </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga80ba0c10b16ecfe614bdf2e7abacb275a6472e2072692a1f6e274c447aee81cb9"></a>LM_CONN_STATUS_IDLE_TIMEOUT</em>&#160;</td><td class="fielddoc">
<p>In the process of disconnecting due to idle timeout </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga80ba0c10b16ecfe614bdf2e7abacb275a9ed8ecca2177d050b6f243b66b39c50a"></a>LM_CONN_STATUS_DISCONNECTED</em>&#160;</td><td class="fielddoc">
<p>Connection failed or not yet attempted </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="monetra__api_8h_source.html#l00175">175</a> of file <a class="el" href="monetra__api_8h_source.html">monetra_api.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                    {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="group__LM__conn.html#gga80ba0c10b16ecfe614bdf2e7abacb275a25bc48db42adf94bb1f8e5ca456b16f7">LM_CONN_STATUS_CONNECTING</a>    = 1, <span class="comment">/*!&lt; In the process of connecting */</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="group__LM__conn.html#gga80ba0c10b16ecfe614bdf2e7abacb275a134df2e5eeaa8506648868bc95ecbf8a">LM_CONN_STATUS_CONNECTED</a>     = 2, <span class="comment">/*!&lt; Actively connected */</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <a class="code" href="group__LM__conn.html#gga80ba0c10b16ecfe614bdf2e7abacb275ab93b023f5a3213c09dd4b9fedd31c6b7">LM_CONN_STATUS_DISCONNECTING</a> = 3, <span class="comment">/*!&lt; In the process of disconnecting */</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <a class="code" href="group__LM__conn.html#gga80ba0c10b16ecfe614bdf2e7abacb275a6472e2072692a1f6e274c447aee81cb9">LM_CONN_STATUS_IDLE_TIMEOUT</a>  = 4, <span class="comment">/*!&lt; In the process of disconnecting due to idle timeout */</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <a class="code" href="group__LM__conn.html#gga80ba0c10b16ecfe614bdf2e7abacb275a9ed8ecca2177d050b6f243b66b39c50a">LM_CONN_STATUS_DISCONNECTED</a>  = 5  <span class="comment">/*!&lt; Connection failed or not yet attempted */</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;};</div>
<div class="ttc" id="group__LM__conn_html_gga80ba0c10b16ecfe614bdf2e7abacb275a134df2e5eeaa8506648868bc95ecbf8a"><div class="ttname"><a href="group__LM__conn.html#gga80ba0c10b16ecfe614bdf2e7abacb275a134df2e5eeaa8506648868bc95ecbf8a">LM_CONN_STATUS_CONNECTED</a></div><div class="ttdef"><b>Definition:</b> <a href="monetra__api_8h_source.html#l00177">monetra_api.h:177</a></div></div>
<div class="ttc" id="group__LM__conn_html_gga80ba0c10b16ecfe614bdf2e7abacb275a25bc48db42adf94bb1f8e5ca456b16f7"><div class="ttname"><a href="group__LM__conn.html#gga80ba0c10b16ecfe614bdf2e7abacb275a25bc48db42adf94bb1f8e5ca456b16f7">LM_CONN_STATUS_CONNECTING</a></div><div class="ttdef"><b>Definition:</b> <a href="monetra__api_8h_source.html#l00176">monetra_api.h:176</a></div></div>
<div class="ttc" id="group__LM__conn_html_gga80ba0c10b16ecfe614bdf2e7abacb275a9ed8ecca2177d050b6f243b66b39c50a"><div class="ttname"><a href="group__LM__conn.html#gga80ba0c10b16ecfe614bdf2e7abacb275a9ed8ecca2177d050b6f243b66b39c50a">LM_CONN_STATUS_DISCONNECTED</a></div><div class="ttdef"><b>Definition:</b> <a href="monetra__api_8h_source.html#l00180">monetra_api.h:180</a></div></div>
<div class="ttc" id="group__LM__conn_html_gga80ba0c10b16ecfe614bdf2e7abacb275ab93b023f5a3213c09dd4b9fedd31c6b7"><div class="ttname"><a href="group__LM__conn.html#gga80ba0c10b16ecfe614bdf2e7abacb275ab93b023f5a3213c09dd4b9fedd31c6b7">LM_CONN_STATUS_DISCONNECTING</a></div><div class="ttdef"><b>Definition:</b> <a href="monetra__api_8h_source.html#l00178">monetra_api.h:178</a></div></div>
<div class="ttc" id="group__LM__conn_html_gga80ba0c10b16ecfe614bdf2e7abacb275a6472e2072692a1f6e274c447aee81cb9"><div class="ttname"><a href="group__LM__conn.html#gga80ba0c10b16ecfe614bdf2e7abacb275a6472e2072692a1f6e274c447aee81cb9">LM_CONN_STATUS_IDLE_TIMEOUT</a></div><div class="ttdef"><b>Definition:</b> <a href="monetra__api_8h_source.html#l00179">monetra_api.h:179</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga37da5e8f7bcb9daf94633f05aff2df67"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a>* LM_conn_init </td>
          <td>(</td>
          <td class="paramtype">M_event_t *&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__LM__conn.html#ga03f6d4a9e6d2ca83fb9f8ac12b7c7cad">LM_event_callback_t</a>&#160;</td>
          <td class="paramname"><em>event_callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_uint16&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize a connection object.</p>
<p>A connection object must be created before any transactions can be created. It requires an initialized mstdlib event handle to be passed to it, which it will use for all communication/io events. It also requies a user-written event callback to be registered that will be called any time there are connection state or transaction state changes.</p>
<p>The default connection mode is SSL/TLS and will create a private TLS client ctx unless one is provided via <a class="el" href="group__LM__conn.html#ga6e6106ef67a28dafb3329760d960ee57">LM_conn_set_tls_clientctx()</a>. The default ctx will perform strict server certificate validation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">event</td><td>Initialized mstdlib event handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">event_callback</td><td>User-supplied callback to call on connection and transaction state changes. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">host</td><td>Host or IP address of server </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">port</td><td>Port of remote server </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Initialized connection object or NULL on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="ga8bb84233d52f3489fda731c7c907e7b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool LM_conn_set_userdata </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Store a user-provided pointer that can be used to easily bind the connection object to user-provided data.</p>
<p>This may be useful for tracking purposes, especially when in an event handler. Only one user-supplied pointer may be provided, if this function is called again, it will replace the existing pointer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>Initialized connection object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">user_data</td><td>User-supplied pointer, or NULL to remove. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE on success, M_FALSE on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="gae540faaa3560df5f496aa47d3b0fd9fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* LM_conn_get_userdata </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve a previously stored user-provided pointer.</p>
<p>see <a class="el" href="group__LM__conn.html#ga8bb84233d52f3489fda731c7c907e7b5">LM_conn_set_userdata()</a> for more info.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>Initialized connection object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>User-supplied data, or NULL on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="ga5d0f52162e797ca3ba015a84fea139a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LM_conn_disable_ping </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Disable sending a PING request after a connection has been opened to verify it is really connected to Monetra before allowing transactions to be sent. The default is to send a PING.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>Initialized (but not connected) connection object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga7a32b91b5e98c7a03ae9dcf3e3c5da17"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LM_conn_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy the connection object.</p>
<p>Destroying a connection object will also destroy any transaction objects associated with the connection. Those transaction object pointers MUST NOT be used after the connection has disappeared.</p>
<p>This function will also ungracefully close the connection if it is still open. If the connection is still open, it is recommended to call <a class="el" href="group__LM__conn.html#gaa73520b072656c97e59ca664aba37cbd">LM_conn_disconnect()</a> instead and destroy the connection from within the registered event handler when the disconnect is complete.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>Initialized connection object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaf7747fa54f89322a7d8cf9c16d47f208"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool LM_conn_change_server </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">M_uint16&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Change the server associated with the connection.</p>
<p>The connection is only allowed to be changed when is in the DISCONNECTED or DISCONNECTING state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>Initialized connection object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">host</td><td>Host or IP address of server </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">port</td><td>Port of remote server </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE on success or M_FALSE on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="ga5d3d2fcca92cf36a27173e84dd253318"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool LM_conn_change_mode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__LM__conn.html#gaefb2b17d946c6bfe9b007f48efbc9b35">LM_mode_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Change the mode of communication with the server.</p>
<p>The connection is only allowed to be changed when is in the DISCONNECTED or DISCONNECTING state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>Initialized connection object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>Mode to be used, one of LM_mode_t. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE on success or M_FALSE on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="ga007f265a96eda9c98536239a012a0100"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool LM_conn_set_conn_timeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>to_secs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Change the timeout on the connection.</p>
<p>This is how long to wait to establish a connection with the remote server. Default is 10 seconds.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>Initialized connection object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">to_secs</td><td>Timeout in seconds. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE on success or M_FALSE on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="ga6e6106ef67a28dafb3329760d960ee57"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool LM_conn_set_tls_clientctx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const M_tls_clientctx_t *&#160;</td>
          <td class="paramname"><em>clientctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set a specific TLS client ctx object to use for communication.</p>
<p>It may be desirable to use a TLS client ctx created externally for setting specific ciphers and protocols, server trust lists, and verification levels. Using an external client ctx would also enable the use of session resumption.</p>
<p>If a TLS client ctx is not set, a new clientctx object private to the connection will be created. It will use the default ciphers and protocols as defined by mstdlib, and attempt to load the Certificate Trust list from the OS. The default will also perform full certificate validation.</p>
<p>This may only be changed when the connection is in the DISCONNECTED or DISCONNECTING state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>Initialized connection object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">clientctx</td><td>Initialized clientctx object, or NULL to unset the existing. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE on success or M_FALSE on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="ga31922d265c732e23b1b2e325a950c8f6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool LM_conn_set_tls_cert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>key_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>crt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>crt_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configure a client certificate to present to the server during negotiation from a memory buffer.</p>
<p>Setting a certificate allows for mutual authentication before a connection can be established. The server must be configured to support this.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>Initialized connection object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>Memory buffer containing PEM-encoded key data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key_len</td><td>Length of key memory buffer in bytes. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">crt</td><td>Memory buffer containing PEM-encoded certificate data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">crt_len</td><td>Length of crt memory buffer in bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE on success or M_FALSE on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="gaf071eb2b78fb615e6c4a4a59893aa960"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool LM_conn_set_tls_cert_files </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>keypath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>crtpath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configure a client certificate to present to the server during negotiation from a file.</p>
<p>Setting a certificate allows for mutual authentication before a connection can be established. The server must be configured to support this.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>Initialized connection object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">keypath</td><td>Path to file containing PEM-encoded key data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">crtpath</td><td>Path to file containing PEM-encoded certificate data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE on success or M_FALSE on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="ga25c1f280d81d982e3aaed87a34c12ae0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool LM_conn_set_iocreate_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__LM__conn.html#ga537631929b7cf8e06b04e59ec24fa3eb">LM_conn_iocreate_callback_t</a>&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cb_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register a user-defined callback to be called when an mstdlib io object is created so that the caller may inspect the internals of the io object or add additional layers such as tracing or bandwidth shaping</p>
<p>This may only be changed when the connection is in the DISCONNECTED or DISCONNECTING state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>Initialized connection object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cb</td><td>User-supplied callback (or NULL to unset) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cb_arg</td><td>Argument to provide to user-supplied callback (NULL if unused) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE on success or M_FALSE on error. </dd></dl>

</div>
</div>
<a class="anchor" id="gad6263b75fc1bf37dad469fc762a0fed0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool LM_conn_set_idle_timeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>to_secs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set an idle connection timer. This will automatically disconnect if there are no outstanding transactions in the given timeframe.</p>
<p>The user-registered event handler will be called with a normal disconnect event type when the timer expires.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>Initialized connection object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">to_secs</td><td>Idle timeout in seconds, or 0 to disable. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE on success or M_FALSE on error </dd></dl>

</div>
</div>
<a class="anchor" id="ga6a7e053c5816d9fe8d42358cc9b374e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* LM_conn_error </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Textual reason for a connectivity-related failure.</p>
<p>This function provides a pointer to an internal memory buffer that may change, and is destroyed with the connection object. It should not be kept for long term access.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>Initialized connection object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string representing error, or NULL if unable to retrieve message. </dd></dl>

</div>
</div>
<a class="anchor" id="ga614a4cdfc9807e156af4a62c1bd23227"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool LM_conn_connect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start a connection sequence.</p>
<p>This function is non-blocking, it will return success immediately and initiate a background connection process. The user-supplied callback during initialization will be called when the connection is established.</p>
<p>This function will be implicitly called by either <a class="el" href="group__LM__trans.html#ga55767b507f5baeca4bc75df38a5a0cac">LM_trans_send()</a> or <a class="el" href="group__LM__trans.html#ga9c608a05db7b24ed59edaa79bd29bdb7">LM_trans_run()</a>. It is however, recommended that this function be called as it may be necessary for an application to know if the connection will be successful prior to enqueing transactions. The the connection is not successful, any enqueud transactions will remain in the "READY" state so the connectivity information can be updated and the connection establishment be attempted again. Once a connection is established, any "READY" transactions will be put on the wire.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>Initialized connection object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE if successfully started a connection sequence, M_FALSE on failure (possibly already connected) </dd></dl>

</div>
</div>
<a class="anchor" id="ga09939deb03540c6ce135d9ffeddc4a8c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__LM__conn.html#ga8dd08ef6136104feb80f0d6f4f572f11">LM_conn_status_t</a> <a class="el" href="group__LM__conn.html#ga80ba0c10b16ecfe614bdf2e7abacb275">LM_conn_status</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Obtain the current connection status.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>Initialized connection object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the possible LM_conn_status_t states. </dd></dl>

</div>
</div>
<a class="anchor" id="gaa73520b072656c97e59ca664aba37cbd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M_bool LM_conn_disconnect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__LM__conn.html#ga0519933ee4779f352477360031fd0f83">LM_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Issues a graceful disconnect from the server.</p>
<p>This is a non-blocking function call which will start a background disconnection sequence which will notify the user-registered callback (set during initialization) when complete passing an event type of LM_EVENT_CONN_DISCONECT. Any PENDING transactions will be abandoned and set into an error state.</p>
<p>This should be called when closing the connection prior to calling <a class="el" href="group__LM__conn.html#ga7a32b91b5e98c7a03ae9dcf3e3c5da17">LM_conn_destroy()</a>, When the user has been notified the disconnect sequence is complete, the connection may be destroyed from within the user callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>Initialized connection object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>M_TRUE if sequence successfully started, M_FALSE if connection not eligible (such as already disconnected) </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Mar 20 2018 13:41:05 for LibMonetra-8.0.0 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
